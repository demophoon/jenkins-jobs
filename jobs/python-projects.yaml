- job-template:
    name: '{name}-Flake8'
    project-type: 'freestyle'
    defaults: 'global'
    description: 'Flake8 Check Python Code'
    display-name: '{name} Flake8 Check'
    concurrent: true
    quiet-period: 5
    triggers:
        - github
        - github-pull-request:
            admin-list:
                - demophoon
            permit-all: true
    scm:
        - git:
            url: '{git_repo}'
            credentials-id: !include github-creds.txt
            git-config-name: 'Jenkins (Britt Gresham)'
            git-config-email: 'jenkins@brittg.com'
    properties:
        - github_project_url:
            projectUrl: '{git_url}'
    builders:
        - github_pending_status:
        - shell: |
            rm -rf ./flake8
            virtualenv flake8
            . ./flake8/bin/activate

            which python
            which pip

            pip install flake8
            flake8 --ignore=E501,E731,W0621,F812 --exclude=flake8/* --max-line-length=140 ./
    publishers:
        - github_status_on_failure:

- job-group:
    name: '{name}-tests'
    jobs:
        - '{name}-Flake8'

- project:
    name: 'Webvim'
    git_repo: 'git@github.com:demophoon/webvim.git'
    git_url: 'https://github.com/demophoon/webvim'
    jobs:
        - '{name}-tests'

- project:
    name: 'Brittbot'
    git_repo: 'git@github.com:demophoon/brittbot.git'
    git_url: 'https://github.com/demophoon/webvim'
    jobs:
        - '{name}-tests'

- project:
    name: 'FOSS-Sams'
    git_repo: 'git@github.com:demophoon/sams.git'
    git_url: 'https://github.com/demophoon/webvim'
    jobs:
        - '{name}-tests'

- project:
    name: 'Cards-of-Lunacy'
    git_repo: 'git@github.com:demophoon/cards-of-lunacy.git'
    git_url: 'https://github.com/demophoon/webvim'
    jobs:
        - '{name}-tests'

- project:
    name: 'PingdomLib'
    git_repo: 'git@github.com:demophoon/PingdomLib.git'
    git_url: 'https://github.com/demophoon/webvim'
    disabled: true
    jobs:
        - '{name}-tests'

- project:
    name: 'Vundle-Headless-Installer'
    git_repo: 'git@github.com:demophoon/vundle-headless-installer.git'
    git_url: 'https://github.com/demophoon/webvim'
    jobs:
        - '{name}-tests'
